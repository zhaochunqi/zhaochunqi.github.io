<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 从零开始将树莓派打造成家用下载机【二】 BT 下载篇 · Alex Coding</title><meta name="description" content="从零开始将树莓派打造成家用下载机【二】 BT 下载篇 - Alex Zhao"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/121189047" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/zhaochunqi" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">从零开始将树莓派打造成家用下载机【二】 BT 下载篇</h1><div class="post-time">Apr 22, 2016</div><div class="post-content"><p>本篇介绍一下如何使用树莓派进行下载。<br><a id="more"></a></p>
<p><img src="http://harchiko.qiniudn.com/Pi_3_Model_B.png" alt="http://harchiko.qiniudn.com/Pi_3_Model_B.png"></p>
<h2 id="准备工作 - 换源"><a href="# 准备工作 - 换源" class="headerlink" title="准备工作 换源"></a>准备工作 换源 </h2><p> 出于速度考虑，将系统默认的源修改为 中科大源</p>
<ol>
<li>备份 <code>cp /etc/apt/sources.list /etc/apt/sources.list.bak</code></li>
<li><p>修改文本 <code>/etc/apt/sources.list</code> :</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.ustc.edu.cn/raspbian/raspbian/ jessie main contrib non-free rpi</span><br></pre></td></tr></table></figure>
</li>
<li><p>更新 <code>sudo apt-get update</code></p>
</li>
</ol>
<h2 id="树莓派上安装 -Deluge- 客户端"><a href="# 树莓派上安装 -Deluge- 客户端" class="headerlink" title="树莓派上安装 Deluge 客户端"></a>树莓派上安装 Deluge 客户端 </h2><p> 命令行输入如下命令安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install deluged</span><br><span class="line"></span><br><span class="line">sudo apt-get install deluge-console</span><br></pre></td></tr></table></figure>
<p>启动 deluge, 并杀掉进程（创建配置文件)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deluged</span><br><span class="line"></span><br><span class="line">sudo pkill deluged</span><br></pre></td></tr></table></figure>
<p>备份配置文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cp ~/.config/deluge/auth ~/.config/deluge/auth.old</span><br><span class="line"></span><br><span class="line">vi ~/.config/deluge/auth</span><br></pre></td></tr></table></figure></p>
<p>按如下格式添加配置:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user:password:level</span><br></pre></td></tr></table></figure>
<p>上面的用户名、密码、level 级别（具体这个选项我也不知道什么等级对应什么功能,10 全功能），方便起见使用:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pi:rapberry:10</span><br></pre></td></tr></table></figure>
<p>保存之后重新启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deluged</span><br><span class="line"></span><br><span class="line">deluge-console</span><br></pre></td></tr></table></figure>
<p>进入交互式界面</p>
<p><img src="http://harchiko.qiniudn.com/376x233x2013-03-24_163942.jpg.pagespeed.gp+jp+jw+pj+js+rj+rp+rw+ri+cp+md.ic.68wn4b8TgH.jpg" alt="http://harchiko.qiniudn.com/376x233x2013-03-24_163942.jpg.pagespeed.gp+jp+jw+pj+js+rj+rp+rw+ri+cp+md.ic.68wn4b8TgH.jpg"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">config <span class="_">-s</span> allow_remote True</span><br><span class="line"></span><br><span class="line">config allow_remote</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure>
<p>以上命令开启了远程链接</p>
<p>现在，重启 deluge 使配置生效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pkill deluged</span><br><span class="line"></span><br><span class="line">deluged</span><br></pre></td></tr></table></figure>
<p>到这里，实际上树莓派上的工作已经做完了，现在进行电脑上的操作</p>
<h2 id="电脑安装 -Deluge- 客户端"><a href="# 电脑安装 -Deluge- 客户端" class="headerlink" title="电脑安装 Deluge 客户端"></a>电脑安装 Deluge 客户端</h2><ol>
<li><p>下载 Deluge: <a href="http://dev.deluge-torrent.org/wiki/Download" target="_blank" rel="external">http://dev.deluge-torrent.org/wiki/Download</a></p>
</li>
<li><p>安装好之后，打开 Preferences-&gt;Interface，取消勾选 Classic Mode 下的 Enable。</p>
<p> <img src="http://harchiko.qiniudn.com/537x271x2013-03-24_173041.jpg.pagespeed.gp+jp+jw+pj+js+rj+rp+rw+ri+cp+md.ic.HQH6hFYrAP.jpg" alt="http://harchiko.qiniudn.com/537x271x2013-03-24_173041.jpg.pagespeed.gp+jp+jw+pj+js+rj+rp+rw+ri+cp+md.ic.HQH6hFYrAP.jpg"></p>
</li>
<li><p>重启之后添加 Host（还记得第一天绑定的域名嘛, 也可以填写 ip),port,Username,Password.</p>
<p> 如下图: </p>
<p> <img src="http://harchiko.qiniudn.com/358x183x2013-03-24_164526.jpg.pagespeed.gp+jp+jw+pj+js+rj+rp+rw+ri+cp+md.ic.B59WSsSlJk.jpg" alt="http://harchiko.qiniudn.com/358x183x2013-03-24_164526.jpg.pagespeed.gp+jp+jw+pj+js+rj+rp+rw+ri+cp+md.ic.B59WSsSlJk.jpg"></p>
<p> <img src="http://harchiko.qiniudn.com/401x359x2013-03-24_173602.jpg.pagespeed.gp+jp+jw+pj+js+rj+rp+rw+ri+cp+md.ic.K7h7np4726.jpg" alt="http://harchiko.qiniudn.com/401x359x2013-03-24_173602.jpg.pagespeed.gp+jp+jw+pj+js+rj+rp+rw+ri+cp+md.ic.K7h7np4726.jpg"></p>
<p> 点击连接进入主界面:<br> <img src="http://harchiko.qiniudn.com/650x235x2013-03-24_173917.jpg.pagespeed.gp+jp+jw+pj+js+rj+rp+rw+ri+cp+md.ic.VMsLC5uovk.jpg" alt="http://harchiko.qiniudn.com/650x235x2013-03-24_173917.jpg.pagespeed.gp+jp+jw+pj+js+rj+rp+rw+ri+cp+md.ic.VMsLC5uovk.jpg"></p>
</li>
</ol>
<h3 id="配置"><a href="# 配置" class="headerlink" title="配置"></a>配置 </h3><h4 id="下载配置："><a href="# 下载配置：" class="headerlink" title="下载配置："></a> 下载配置：</h4><p>在 Downloads 目录下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /home/pi/Downloads/downloading</span><br><span class="line">sudo mkdir /home/pi/Downloads/completed</span><br><span class="line">sudo mkdir /home/pi/Downloads/torrents/watch</span><br><span class="line">sudo mkdir /home/pi/Downloads/torrents/torrent-backup</span><br></pre></td></tr></table></figure>
<p>按照图中修改即可</p>
<p><img src="http://harchiko.qiniudn.com/Screen%20Shot%202016-04-23%20at%201.06.13%20AM.png" alt="http://harchiko.qiniudn.com/Screen%20Shot%202016-04-23%20at%201.06.13%20AM.png"></p>
<h4 id="网络配置"><a href="# 网络配置" class="headerlink" title="网络配置"></a>网络配置 </h4><p> 按图示修改即可。</p>
<p><img src="http://harchiko.qiniudn.com/Screen%20Shot%202016-04-23%20at%2012.05.33%20AM.png" alt="http://harchiko.qiniudn.com/Screen%20Shot%202016-04-23%20at%2012.05.33%20AM.png"></p>
<p>这下，你可以远程添加种子到树莓派下载了</p>
<p><img src="http://harchiko.qiniudn.com/Screen%20Shot%202016-0aa4-23%20at%2012.08.42%20AM.jpg" alt="http://harchiko.qiniudn.com/Screen%20Shot%202016-0aa4-23%20at%2012.08.42%20AM.jpg"></p>
<h2 id="One-More-thing"><a href="#One-More-thing" class="headerlink" title="One More thing"></a>One More thing</h2><p>设置定时任务，免得影响正常上网:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab <span class="_">-e</span></span><br></pre></td></tr></table></figure>
<p>在后面添加内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 周一到周五</span><br><span class="line">0 1 * * 1,2,3,4,5 deluged</span><br><span class="line">0 18 * * 1,2,3,4,5 pkill deluged </span><br><span class="line"></span><br><span class="line"># 周六周日</span><br><span class="line">0 2 * * 0,6 deluged </span><br><span class="line">0 8 * * 0,6 sudo pkill deluged</span><br></pre></td></tr></table></figure></p>
<p>周一到周五，每天凌晨 1 点开启，晚上 6 点结束；<br>周六周日，凌晨两点开启，早上 8 点结束；</p>
<p>至此，下载已经告一段落。</p>
<p>参考链接: 1. <a href="http://www.howtogeek.com/142044/how-to-turn-a-raspberry-pi-into-an-always-on-bittorrent-box/" target="_blank" rel="external">http://www.howtogeek.com/142044/how-to-turn-a-raspberry-pi-into-an-always-on-bittorrent-box/</a></p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/04/24/create-chrome-web-app-in-15-minutes/" class="prev">PREV</a><a href="/2016/04/17/raspberry-pi-as-nas-server/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'blog-zhaochunqi';
var disqus_identifier = '2016/04/22/raspberry-pi-as-nas-server2/';
var disqus_title = '从零开始将树莓派打造成家用下载机【二】 BT 下载篇';
var disqus_url = 'http://blog.zhaochunqi.com/2016/04/22/raspberry-pi-as-nas-server2/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//blog-zhaochunqi.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2016 <a href="http://blog.zhaochunqi.com">Alex Zhao</a>, unless otherwise noted.</p></div></footer></div><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-42448552-1",'auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "cfffa20d202ba9f4f0d6257e1cc94ea6";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>